# üß† AI Keychain Suite: –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è Raspberry Pi Zero 2 W (–∏ macOS), –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —É–º–Ω—ã–π "–±—Ä–µ–ª–æ–∫" —Å –ø–∞–º—è—Ç—å—é, –∑—Ä–µ–Ω–∏–µ–º –∏ –≥–æ–ª–æ—Å–æ–º.

---

# üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –í–µ—Ä—Å–∏—è

–ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω–æ, —á—Ç–æ —É–º–µ–µ—Ç –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω.

### 1. üßû‚Äç‚ôÇÔ∏è Ai_assistant-memory (–¢–µ–∫—Å—Ç–æ–≤—ã–π –ë—Ä–æ)
**–ß—Ç–æ —ç—Ç–æ:** –ß–∞—Ç-–±–æ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏.
**–§–∏—à–∫–∞:** –£ –Ω–µ–≥–æ –µ—Å—Ç—å **–ø–∞–º—è—Ç—å**. –ï—Å–ª–∏ –≤—ã –Ω–∞–ø–∏—à–µ—Ç–µ "–£ –º–µ–Ω—è –µ—Å—Ç—å –∫–æ—Ç –ë–∞—Ä—Å–∏–∫", –æ–Ω —ç—Ç–æ –∑–∞–ø–æ–º–Ω–∏—Ç. –ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é —Å–ø—Ä–æ—Å–∏—Ç–µ "–ö–∞–∫ –∑–æ–≤—É—Ç –º–æ–µ–≥–æ –∫–æ—Ç–∞?", –∏ –æ–Ω –æ—Ç–≤–µ—Ç–∏—Ç.
**–°—Ç–∏–ª—å:** –û–±—â–∞–µ—Ç—Å—è –∫–∞–∫ "–ö–µ–Ω—Ç", —Å —é–º–æ—Ä–æ–º –∏ –Ω–∞ "—Ç—ã".

### 2. üéôÔ∏è Ai_assistant-memory-voice (–ì–æ–ª–æ—Å–æ–≤–æ–π –ë—Ä–æ)
**–ß—Ç–æ —ç—Ç–æ:** –¢–æ—Ç –∂–µ "–ö–µ–Ω—Ç", –Ω–æ —Å –Ω–∏–º –º–æ–∂–Ω–æ **—Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å**.
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω.
2. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –≥–æ–ª–æ—Å–æ–º (—á–µ—Ä–µ–∑ –∫–æ–ª–æ–Ω–∫—É/–Ω–∞—É—à–Ω–∏–∫–∏).
3. **–ü–∞–º—è—Ç—å –æ–±—â–∞—è:** –û–Ω –∑–Ω–∞–µ—Ç –≤—Å—ë, —á—Ç–æ –≤—ã –ø–∏—Å–∞–ª–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

### 3. üëÅÔ∏è Ai_image-interpretator (–ì–ª–∞–∑–∞ –ë—Ä–æ)
**–ß—Ç–æ —ç—Ç–æ:** –£–º–Ω–∞—è –∫–∞–º–µ—Ä–∞.
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ù–∞–∂–∏–º–∞–µ—Ç–µ **Enter** -> –î–µ–ª–∞–µ—Ç—Å—è —Ñ–æ—Ç–æ.
2. –ù–∞–∂–∏–º–∞–µ—Ç–µ **Enter** -> –ó–∞–¥–∞–µ—Ç–µ –≤–æ–ø—Ä–æ—Å (–≥–æ–ª–æ—Å–æ–º).
3. –ò–ò —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ñ–æ—Ç–æ, —Å–ª—É—à–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—á–∞–µ—Ç.
**–ú–∞–≥–∏—è:** –û–Ω —Ç–æ–∂–µ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ñ–∞–∫—Ç—ã! –ï—Å–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –µ–º—É –Ω–æ–≤—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏, –æ–Ω –∑–∞–ø–æ–º–Ω–∏—Ç –∏—Ö —Ü–≤–µ—Ç –∏ –±—Ä–µ–Ω–¥ –≤ –æ–±—â—É—é –ø–∞–º—è—Ç—å. –í—Å–µ —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é.

### 4. üìù pi_translator (–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ –¢–µ–∫—Å—Ç)
**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏.
**–§—É–Ω–∫—Ü–∏—è:** –í–≤–æ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç -> –ü–æ–ª—É—á–∞–µ—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Google Translate).

### 5. üó£Ô∏è pi_translator_stt-tts (–ì–æ–ª–æ—Å–æ–≤–æ–π –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫)
**–ß—Ç–æ —ç—Ç–æ:** –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ-–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ (–∫–∞–∫ –≤ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–µ).
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°–ª—É—à–∞–µ—Ç –≤–∞—à—É —Ä–µ—á—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Ä—É—Å—Å–∫–æ–º).
2. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç.
3. –û–∑–≤—É—á–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–º–µ—Ü–∫–æ–º).

---

# üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –í–µ—Ä—Å–∏—è (–î–ª—è –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã.

## üìÇ –û–±—â–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞
*   **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Raspberry Pi Zero 2 W (Debian/Pi OS Lite) / macOS.
*   **–Ø–∑—ã–∫:** Python 3.9+.
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:** `install_pi.sh` (–µ–¥–∏–Ω—ã–π —Å–∫—Ä–∏–ø—Ç).
*   **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** JSON (`memory.json`) + –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (`photos/`).

---

### 1. Ai_assistant-memory
*   **–ü—É—Ç—å:** `/Ai_assistant-memory`
*   **Core:** `google-genai` (Gemini 2.5 Flash).
*   **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (2-AI System):**
    1.  **Observer AI:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ–∞–∫—Ç—ã -> –ø–∏—à–µ—Ç –≤ `memory.json`.
    2.  **Chat AI:** –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç + –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ `memory.json` -> –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç.
*   **–§–∞–π–ª—ã:** `ai_assistant.py`, `memory.json`, `.env`.

### üöÄ Unified App & Autostart
To save RAM and simplify usage, use `main_app.py`. It combines all features into one process.

### How to use:
1.  **Run manually**:
    ```bash
    python3 main_app.py
    ```
2.  **Setup Autostart**:
    ```bash
    sudo cp ai_keychain.service /etc/systemd/system/
    sudo systemctl daemon-reload
    sudo systemctl enable ai_keychain.service
    sudo systemctl start ai_keychain.service
    ```

### RAM Optimization
*   **Single Process**: ~150MB RAM (vs ~450MB for 3 separate apps).
*   **Polling Mode**: Low CPU usage for button detection.
*   **Shared Resources**: Shared Gemini client and memory access.

### 2. Ai_assistant-memory-voice
*   **–ü—É—Ç—å:** `/Ai_assistant-memory-voice`
*   **STT (Input):** `SpeechRecognition` (Google Web API).
*   **TTS (Output):** `gTTS` (Google Text-to-Speech).
*   **Audio Pipeline (Pi):**
    *   `ffmpeg`: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è MP3 -> WAV.
    *   `aplay -D bluealsa`: –í—ã–≤–æ–¥ –∑–≤—É–∫–∞ —á–µ—Ä–µ–∑ Bluetooth (–æ–±—Ö–æ–¥ PulseAudio).
*   **Logic:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –ø–∞–º—è—Ç–∏, —á—Ç–æ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (—á–∏—Ç–∞–µ—Ç/–ø–∏—à–µ—Ç –≤ —Ç–æ—Ç –∂–µ JSON).

### 3. Ai_image-interpretator
*   **–ü—É—Ç—å:** `/Ai_image-interpretator`
*   **Vision:** `opencv-python` (–∑–∞—Ö–≤–∞—Ç –∫–∞–¥—Ä–∞ `cv2.VideoCapture`).
*   **Multimodal AI:** Gemini 2.5 Flash –ø–æ–ª—É—á–∞–µ—Ç `[Text, Image]`.
*   **Storage:**
    *   –§–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `photos/photo_YYYY-MM-DD_HH-MM-SS.jpg`.
    *   –§–∞–∫—Ç—ã –ø–∏—à—É—Ç—Å—è –≤ `../Ai_assistant-memory-voice/memory.json` (–∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏).
*   **Config:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–±–æ—Ä –∏–Ω–¥–µ–∫—Å–∞ –∫–∞–º–µ—Ä—ã (`CAMERA_INDEX`) –∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (`MIC_INDEX`) —á–µ—Ä–µ–∑ `.env`.

### 4. pi_translator
*   **–ü—É—Ç—å:** `/pi_translator`
*   **Lib:** `deep-translator` (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API Google Translate).
*   **Logic:** –ü—Ä–æ—Å—Ç–æ–π CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `input() -> translate() -> print()`.

### 5. pi_translator_stt-tts
*   **–ü—É—Ç—å:** `/pi_translator_stt-tts` (–∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ `pi_translator`)
*   **Pipeline:**
    1.  `arecord` / `SpeechRecognition` -> Audio.
    2.  STT (Google).
    3.  `deep-translator` -> Text Target.
    4.  `gTTS` -> Audio Target.
    5.  `aplay` -> Output.

## üõ† –°–∏—Å—Ç–µ–º–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (Pi Zero 2 W)
–î–ª—è —Ä–∞–±–æ—Ç—ã –∑–≤—É–∫–∞ –∏ –≤–∏–¥–µ–æ —Ç—Ä–µ–±—É—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
```bash
sudo apt-get install python3-opencv libopencv-dev python3-pyaudio portaudio19-dev mpg123 alsa-utils flac sox libsox-fmt-all ffmpeg
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
./install_pi.sh

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env.example –≤ .env –≤ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ GEMINI_API_KEY.

# 3. –ó–∞–ø—É—Å–∫ (–ø—Ä–∏–º–µ—Ä)
python Ai_image-interpretator/image_interpreter.py
```
